module.exports=[60350,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(38246),e=a.i(70106);let f=(0,e.default)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);var g=a.i(40784),h=a.i(60246);let i=(0,e.default)("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),j=(0,e.default)("arrow-up-right",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]),k=(0,e.default)("arrow-down-right",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);var l=a.i(83497);let m=(0,e.default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);function n(){let[a,e]=(0,c.useState)(null),[n,o]=(0,c.useState)(!0);if((0,c.useEffect)(()=>{fetch("/api/dashboard").then(a=>a.json()).then(a=>{e(a),o(!1)}).catch(a=>{console.error("Failed to load dashboard:",a),o(!1)})},[]),n)return(0,b.jsx)("div",{className:"flex items-center justify-center h-96",children:(0,b.jsx)(m,{className:"w-8 h-8 animate-spin text-gray-400"})});if(!a)return(0,b.jsx)("div",{className:"p-8",children:"Failed to load dashboard data"});let p=[{label:"Total Revenue",value:`${a.stats.revenue.value.toLocaleString()} SAR`,change:`${a.stats.revenue.change>=0?"+":""}${a.stats.revenue.change}%`,trend:a.stats.revenue.trend,icon:i},{label:"Orders",value:a.stats.orders.value.toString(),change:`${a.stats.orders.change>=0?"+":""}${a.stats.orders.change}%`,trend:a.stats.orders.trend,icon:g.ShoppingBag},{label:"Customers",value:a.stats.customers.value.toString(),change:`${a.stats.customers.change>=0?"+":""}${a.stats.customers.change}%`,trend:a.stats.customers.trend,icon:h.Users},{label:"Active Now",value:a.stats.activeSessions.toString(),change:"Live",trend:"up",icon:f}];return(0,b.jsxs)("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-700",children:[(0,b.jsxs)("div",{className:"flex items-end justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Overview"}),(0,b.jsx)("p",{className:"text-gray-500 mt-1 text-sm",children:"Live performance metrics for Kiswa Store."})]}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsxs)(d.default,{href:"/products",className:"px-4 py-2 bg-white border rounded-lg text-sm font-medium hover:bg-gray-50 transition-colors flex items-center gap-2",children:[(0,b.jsx)(l.Package,{className:"w-4 h-4"})," ",a.stats.products," Products"]}),(0,b.jsx)(d.default,{href:"/orders",className:"px-4 py-2 bg-black text-white rounded-lg text-sm font-medium hover:bg-black/90 transition-colors",children:"Manage Orders"})]})]}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:p.map(a=>(0,b.jsxs)("div",{className:"bg-white p-6 rounded-2xl border shadow-sm hover:shadow-md transition-shadow",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("div",{className:"p-2 bg-gray-50 rounded-lg",children:(0,b.jsx)(a.icon,{className:"w-5 h-5 text-black"})}),(0,b.jsxs)("div",{className:`flex items-center gap-1 text-[10px] font-bold px-2 py-1 rounded-full ${"up"===a.trend?"bg-green-50 text-green-600":"bg-red-50 text-red-600"}`,children:[a.change,"up"===a.trend?(0,b.jsx)(j,{className:"w-3 h-3"}):(0,b.jsx)(k,{className:"w-3 h-3"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-[10px] font-medium text-gray-400 uppercase tracking-wider",children:a.label}),(0,b.jsx)("p",{className:"text-2xl font-bold mt-1 tracking-tight",children:a.value})]})]},a.label))}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,b.jsxs)("div",{className:"lg:col-span-2 bg-white rounded-2xl border shadow-sm p-8",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,b.jsx)("h3",{className:"text-lg font-bold",children:"Recent Orders"}),(0,b.jsx)(d.default,{href:"/orders",className:"text-sm font-medium text-gray-500 hover:text-black transition-colors",children:"View All"})]}),(0,b.jsx)("div",{className:"space-y-6",children:a.recentOrders.length>0?a.recentOrders.map(a=>{let c,d,e,f,g;return(0,b.jsxs)("div",{className:"flex items-center justify-between py-4 border-b last:border-0 first:pt-0",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"w-10 h-10 rounded-xl bg-gray-100 flex items-center justify-center font-bold text-[10px] uppercase",children:a.orderNumber?.slice(-3)||"ORD"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-bold text-sm",children:a.orderNumber}),(0,b.jsxs)("p",{className:"text-[10px] text-gray-400",children:[(c=new Date(a.createdAt),e=Math.floor((d=new Date().getTime()-c.getTime())/6e4),f=Math.floor(d/36e5),g=Math.floor(d/864e5),e<1?"Just now":e<60?`${e} min ago`:f<24?`${f} hr ago`:`${g} day${g>1?"s":""} ago`)," • ",a.itemCount," item",1!==a.itemCount?"s":""," • ",a.customer]})]})]}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsxs)("p",{className:"font-bold text-sm",children:[a.total?.toLocaleString()," SAR"]}),(0,b.jsx)("p",{className:`text-[10px] font-bold uppercase tracking-wider ${"paid"===a.paymentStatus?"text-green-600":"text-yellow-600"}`,children:a.paymentStatus})]})]},a._id)}):(0,b.jsx)("p",{className:"text-gray-400 text-sm text-center py-8",children:"No orders yet"})})]}),(0,b.jsxs)("div",{className:"bg-white rounded-2xl border shadow-sm p-8",children:[(0,b.jsx)("h3",{className:"text-lg font-bold mb-8",children:"Top Products"}),(0,b.jsx)("div",{className:"space-y-6",children:a.topProducts.length>0?a.topProducts.map((a,c)=>(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"w-12 h-12 rounded-xl bg-gray-50 border flex-shrink-0 flex items-center justify-center font-bold text-gray-400",children:c+1}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"font-bold text-sm truncate",children:a.name}),(0,b.jsxs)("p",{className:"text-[10px] text-gray-400",children:[a.sales," sold"]})]}),(0,b.jsxs)("p",{className:"font-bold text-sm whitespace-nowrap",children:[a.revenue?.toLocaleString()," SAR"]})]},c)):(0,b.jsx)("p",{className:"text-gray-400 text-sm text-center py-8",children:"No sales data yet"})})]})]})]})}a.s(["default",()=>n],60350)}];

//# sourceMappingURL=app_page_tsx_55b2e5ee._.js.map