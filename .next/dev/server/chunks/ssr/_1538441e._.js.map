{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/muhammedanshifp/Documents/kiswastore/admin/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef<\n    HTMLDivElement,\n    React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n    <div\n        ref={ref}\n        className={cn(\n            \"rounded-xl border bg-card text-card-foreground shadow\",\n            className\n        )}\n        {...props}\n    />\n))\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n    HTMLDivElement,\n    React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n    <div\n        ref={ref}\n        className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n        {...props}\n    />\n))\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n    HTMLDivElement,\n    React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n    <div\n        ref={ref}\n        className={cn(\"font-semibold leading-none tracking-tight\", className)}\n        {...props}\n    />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n    HTMLDivElement,\n    React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n    <div\n        ref={ref}\n        className={cn(\"text-sm text-muted-foreground\", className)}\n        {...props}\n    />\n))\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n    HTMLDivElement,\n    React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n    <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n    HTMLDivElement,\n    React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n    <div\n        ref={ref}\n        className={cn(\"flex items-center p-6 pt-0\", className)}\n        {...props}\n    />\n))\nCardFooter.displayName = \"CardFooter\"\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\n"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA;AAEA;;;;AAEA,MAAM,qBAAO,mNAAgB,CAG3B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,8OAAC;QACG,KAAK;QACL,WAAW,IAAA,kHAAE,EACT,yDACA;QAEH,GAAG,KAAK;;;;;;AAGjB,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,mNAAgB,CAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,8OAAC;QACG,KAAK;QACL,WAAW,IAAA,kHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGjB,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,mNAAgB,CAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,8OAAC;QACG,KAAK;QACL,WAAW,IAAA,kHAAE,EAAC,6CAA6C;QAC1D,GAAG,KAAK;;;;;;AAGjB,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,mNAAgB,CAGtC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,8OAAC;QACG,KAAK;QACL,WAAW,IAAA,kHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGjB,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,mNAAgB,CAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,8OAAC;QAAI,KAAK;QAAK,WAAW,IAAA,kHAAE,EAAC,YAAY;QAAa,GAAG,KAAK;;;;;;AAElE,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,mNAAgB,CAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,8OAAC;QACG,KAAK;QACL,WAAW,IAAA,kHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGjB,WAAW,WAAW,GAAG"}},
    {"offset": {"line": 89, "column": 0}, "map": {"version":3,"sources":["file:///Users/muhammedanshifp/Documents/kiswastore/admin/components/ui/dialog.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Dialog = DialogPrimitive.Root\n\nconst DialogTrigger = DialogPrimitive.Trigger\n\nconst DialogPortal = DialogPrimitive.Portal\n\nconst DialogClose = DialogPrimitive.Close\n\nconst DialogOverlay = React.forwardRef<\n    React.ElementRef<typeof DialogPrimitive.Overlay>,\n    React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n    <DialogPrimitive.Overlay\n        ref={ref}\n        className={cn(\n            \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n            className\n        )}\n        {...props}\n    />\n))\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName\n\nconst DialogContent = React.forwardRef<\n    React.ElementRef<typeof DialogPrimitive.Content>,\n    React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n    <DialogPortal>\n        <DialogOverlay />\n        <DialogPrimitive.Content\n            ref={ref}\n            className={cn(\n                \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n                className\n            )}\n            {...props}\n        >\n            {children}\n            <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\">\n                <X className=\"h-4 w-4\" />\n                <span className=\"sr-only\">Close</span>\n            </DialogPrimitive.Close>\n        </DialogPrimitive.Content>\n    </DialogPortal>\n))\nDialogContent.displayName = DialogPrimitive.Content.displayName\n\nconst DialogHeader = ({\n    className,\n    ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n    <div\n        className={cn(\n            \"flex flex-col space-y-1.5 text-center sm:text-left\",\n            className\n        )}\n        {...props}\n    />\n)\nDialogHeader.displayName = \"DialogHeader\"\n\nconst DialogFooter = ({\n    className,\n    ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n    <div\n        className={cn(\n            \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n            className\n        )}\n        {...props}\n    />\n)\nDialogFooter.displayName = \"DialogFooter\"\n\nconst DialogTitle = React.forwardRef<\n    React.ElementRef<typeof DialogPrimitive.Title>,\n    React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n    <DialogPrimitive.Title\n        ref={ref}\n        className={cn(\n            \"text-lg font-semibold leading-none tracking-tight\",\n            className\n        )}\n        {...props}\n    />\n))\nDialogTitle.displayName = DialogPrimitive.Title.displayName\n\nconst DialogDescription = React.forwardRef<\n    React.ElementRef<typeof DialogPrimitive.Description>,\n    React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n    <DialogPrimitive.Description\n        ref={ref}\n        className={cn(\"text-sm text-muted-foreground\", className)}\n        {...props}\n    />\n))\nDialogDescription.displayName = DialogPrimitive.Description.displayName\n\nexport {\n    Dialog,\n    DialogPortal,\n    DialogOverlay,\n    DialogClose,\n    DialogTrigger,\n    DialogContent,\n    DialogHeader,\n    DialogFooter,\n    DialogTitle,\n    DialogDescription,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,SAAS,0KAAoB;AAEnC,MAAM,gBAAgB,6KAAuB;AAE7C,MAAM,eAAe,4KAAsB;AAE3C,MAAM,cAAc,2KAAqB;AAEzC,MAAM,8BAAgB,mNAAgB,CAGpC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,8OAAC,6KAAuB;QACpB,KAAK;QACL,WAAW,IAAA,kHAAE,EACT,2JACA;QAEH,GAAG,KAAK;;;;;;AAGjB,cAAc,WAAW,GAAG,6KAAuB,CAAC,WAAW;AAE/D,MAAM,8BAAgB,mNAAgB,CAGpC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBAClC,8OAAC;;0BACG,8OAAC;;;;;0BACD,8OAAC,6KAAuB;gBACpB,KAAK;gBACL,WAAW,IAAA,kHAAE,EACT,+fACA;gBAEH,GAAG,KAAK;;oBAER;kCACD,8OAAC,2KAAqB;wBAAC,WAAU;;0CAC7B,8OAAC,iMAAC;gCAAC,WAAU;;;;;;0CACb,8OAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;;;;;;;;;;;;;AAK1C,cAAc,WAAW,GAAG,6KAAuB,CAAC,WAAW;AAE/D,MAAM,eAAe,CAAC,EAClB,SAAS,EACT,GAAG,OACgC,iBACnC,8OAAC;QACG,WAAW,IAAA,kHAAE,EACT,sDACA;QAEH,GAAG,KAAK;;;;;;AAGjB,aAAa,WAAW,GAAG;AAE3B,MAAM,eAAe,CAAC,EAClB,SAAS,EACT,GAAG,OACgC,iBACnC,8OAAC;QACG,WAAW,IAAA,kHAAE,EACT,iEACA;QAEH,GAAG,KAAK;;;;;;AAGjB,aAAa,WAAW,GAAG;AAE3B,MAAM,4BAAc,mNAAgB,CAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,8OAAC,2KAAqB;QAClB,KAAK;QACL,WAAW,IAAA,kHAAE,EACT,qDACA;QAEH,GAAG,KAAK;;;;;;AAGjB,YAAY,WAAW,GAAG,2KAAqB,CAAC,WAAW;AAE3D,MAAM,kCAAoB,mNAAgB,CAGxC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACxB,8OAAC,iLAA2B;QACxB,KAAK;QACL,WAAW,IAAA,kHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGjB,kBAAkB,WAAW,GAAG,iLAA2B,CAAC,WAAW"}},
    {"offset": {"line": 229, "column": 0}, "map": {"version":3,"sources":["file:///Users/muhammedanshifp/Documents/kiswastore/admin/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n    \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n    {\n        variants: {\n            variant: {\n                default:\n                    \"bg-primary text-primary-foreground shadow hover:bg-primary/90\",\n                destructive:\n                    \"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90\",\n                outline:\n                    \"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground\",\n                secondary:\n                    \"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80\",\n                ghost: \"hover:bg-accent hover:text-accent-foreground\",\n                link: \"text-primary underline-offset-4 hover:underline\",\n            },\n            size: {\n                default: \"h-9 px-4 py-2\",\n                sm: \"h-8 rounded-md px-3 text-xs\",\n                lg: \"h-10 rounded-md px-8\",\n                icon: \"h-9 w-9\",\n            },\n        },\n        defaultVariants: {\n            variant: \"default\",\n            size: \"default\",\n        },\n    }\n)\n\nexport interface ButtonProps\n    extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n    asChild?: boolean\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n    ({ className, variant, size, asChild = false, ...props }, ref) => {\n        const Comp = asChild ? Slot : \"button\"\n        return (\n            <Comp\n                className={cn(buttonVariants({ variant, size, className }))}\n                ref={ref}\n                {...props}\n            />\n        )\n    }\n)\nButton.displayName = \"Button\"\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;AAEA;;;;;;AAEA,MAAM,iBAAiB,IAAA,uKAAG,EACtB,ySACA;IACI,UAAU;QACN,SAAS;YACL,SACI;YACJ,aACI;YACJ,SACI;YACJ,WACI;YACJ,OAAO;YACP,MAAM;QACV;QACA,MAAM;YACF,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACV;IACJ;IACA,iBAAiB;QACb,SAAS;QACT,MAAM;IACV;AACJ;AASJ,MAAM,uBAAS,mNAAgB,CAC3B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,UAAU,KAAK,EAAE,GAAG,OAAO,EAAE;IACtD,MAAM,OAAO,UAAU,wKAAI,GAAG;IAC9B,qBACI,8OAAC;QACG,WAAW,IAAA,kHAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACxD,KAAK;QACJ,GAAG,KAAK;;;;;;AAGrB;AAEJ,OAAO,WAAW,GAAG"}},
    {"offset": {"line": 289, "column": 0}, "map": {"version":3,"sources":["file:///Users/muhammedanshifp/Documents/kiswastore/admin/components/ui/badge.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst badgeVariants = cva(\n    \"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\",\n    {\n        variants: {\n            variant: {\n                default:\n                    \"border-transparent bg-primary text-primary-foreground hover:bg-primary/80\",\n                secondary:\n                    \"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n                destructive:\n                    \"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80\",\n                outline: \"text-foreground\",\n            },\n        },\n        defaultVariants: {\n            variant: \"default\",\n        },\n    }\n)\n\nexport interface BadgeProps\n    extends React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof badgeVariants> { }\n\nfunction Badge({ className, variant, ...props }: BadgeProps) {\n    return (\n        <div className={cn(badgeVariants({ variant }), className)} {...props} />\n    )\n}\n\nexport { Badge, badgeVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AAEA;;;;AAEA,MAAM,gBAAgB,IAAA,uKAAG,EACrB,0KACA;IACI,UAAU;QACN,SAAS;YACL,SACI;YACJ,WACI;YACJ,aACI;YACJ,SAAS;QACb;IACJ;IACA,iBAAiB;QACb,SAAS;IACb;AACJ;AAOJ,SAAS,MAAM,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,OAAmB;IACvD,qBACI,8OAAC;QAAI,WAAW,IAAA,kHAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QAAa,GAAG,KAAK;;;;;;AAE5E"}},
    {"offset": {"line": 331, "column": 0}, "map": {"version":3,"sources":["file:///Users/muhammedanshifp/Documents/kiswastore/admin/app/analytics/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Dialog, DialogContent, DialogHeader, DialogTitle } from \"@/components/ui/dialog\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport {\n    BarChart,\n    Bar,\n    XAxis,\n    YAxis,\n    Tooltip,\n    ResponsiveContainer,\n    PieChart,\n    Pie,\n    Cell\n} from \"recharts\";\nimport { Users, Eye, ShoppingCart, Smartphone, MapPin, Monitor, Globe } from \"lucide-react\";\n\ninterface AnalyticsEvent {\n    _id: string;\n    eventType: string;\n    url: string;\n    timestamp: string;\n    sessionId: string;\n    ip: string;\n    location?: {\n        country?: string;\n        city?: string;\n        region?: string;\n        timezone?: string;\n    };\n    device?: {\n        type?: string;\n        vendor?: string;\n        model?: string;\n    };\n    os?: {\n        name?: string;\n        version?: string;\n    };\n    browser?: {\n        name?: string;\n        version?: string;\n    };\n    userAgent?: string;\n    metadata?: Record<string, any>;\n}\n\ninterface AnalyticsStats {\n    totalPageViews: number;\n    uniqueSessions: number;\n    topProducts: { name: string; count: number }[];\n    deviceStats: { name: string; value: number }[];\n    recentActivity: AnalyticsEvent[];\n}\n\nexport default function AnalyticsPage() {\n    const [stats, setStats] = useState<AnalyticsStats | null>(null);\n    const [loading, setLoading] = useState(true);\n    const [selectedEvent, setSelectedEvent] = useState<AnalyticsEvent | null>(null);\n    const [detailOpen, setDetailOpen] = useState(false);\n\n    useEffect(() => {\n        fetch(\"/api/analytics/stats\")\n            .then((res) => res.json())\n            .then((data) => {\n                setStats(data);\n                setLoading(false);\n            })\n            .catch((err) => {\n                console.error(\"Failed to load stats\", err);\n                setLoading(false);\n            });\n    }, []);\n\n    function viewEventDetails(event: AnalyticsEvent) {\n        setSelectedEvent(event);\n        setDetailOpen(true);\n    }\n\n    if (loading) return <div className=\"p-8\">Loading analytics...</div>;\n    if (!stats) return <div className=\"p-8\">Failed to load analytics data.</div>;\n\n    const COLORS = ['#0088FE', '#00C49F', '#FFBB28', '#FF8042'];\n\n    return (\n        <div className=\"flex-1 space-y-4 p-8 pt-6\">\n            <div className=\"flex items-center justify-between space-y-2\">\n                <h2 className=\"text-3xl font-bold tracking-tight\">First-Party Analytics</h2>\n            </div>\n\n            {/* Stats Cards */}\n            <div className=\"grid gap-4 md:grid-cols-2 lg:grid-cols-4\">\n                <Card>\n                    <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n                        <CardTitle className=\"text-sm font-medium\">Total Page Views</CardTitle>\n                        <Eye className=\"h-4 w-4 text-muted-foreground\" />\n                    </CardHeader>\n                    <CardContent>\n                        <div className=\"text-2xl font-bold\">{stats.totalPageViews}</div>\n                    </CardContent>\n                </Card>\n                <Card>\n                    <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n                        <CardTitle className=\"text-sm font-medium\">Unique Sessions</CardTitle>\n                        <Users className=\"h-4 w-4 text-muted-foreground\" />\n                    </CardHeader>\n                    <CardContent>\n                        <div className=\"text-2xl font-bold\">{stats.uniqueSessions}</div>\n                    </CardContent>\n                </Card>\n                <Card>\n                    <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n                        <CardTitle className=\"text-sm font-medium\">Mobile Traffic</CardTitle>\n                        <Smartphone className=\"h-4 w-4 text-muted-foreground\" />\n                    </CardHeader>\n                    <CardContent>\n                        <div className=\"text-2xl font-bold\">\n                            {stats.deviceStats.find(d => d.name === 'mobile')?.value || 0}\n                        </div>\n                    </CardContent>\n                </Card>\n                <Card>\n                    <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n                        <CardTitle className=\"text-sm font-medium\">Top Product Views</CardTitle>\n                        <ShoppingCart className=\"h-4 w-4 text-muted-foreground\" />\n                    </CardHeader>\n                    <CardContent>\n                        <div className=\"text-2xl font-bold\">{stats.topProducts.length > 0 ? stats.topProducts[0].count : 0}</div>\n                    </CardContent>\n                </Card>\n            </div>\n\n            {/* Charts */}\n            <div className=\"grid gap-4 md:grid-cols-2 lg:grid-cols-7\">\n                <Card className=\"col-span-4\">\n                    <CardHeader>\n                        <CardTitle>Top Products</CardTitle>\n                    </CardHeader>\n                    <CardContent className=\"pl-2\">\n                        <ResponsiveContainer width=\"100%\" height={350}>\n                            <BarChart data={stats.topProducts}>\n                                <XAxis dataKey=\"name\" stroke=\"#888888\" fontSize={12} />\n                                <YAxis stroke=\"#888888\" fontSize={12} />\n                                <Tooltip />\n                                <Bar dataKey=\"count\" fill=\"#000\" radius={[4, 4, 0, 0]} />\n                            </BarChart>\n                        </ResponsiveContainer>\n                    </CardContent>\n                </Card>\n                <Card className=\"col-span-3\">\n                    <CardHeader>\n                        <CardTitle>Device Distribution</CardTitle>\n                    </CardHeader>\n                    <CardContent>\n                        <ResponsiveContainer width=\"100%\" height={250}>\n                            <PieChart>\n                                <Pie data={stats.deviceStats} cx=\"50%\" cy=\"50%\" innerRadius={60} outerRadius={80} dataKey=\"value\" paddingAngle={5}>\n                                    {stats.deviceStats.map((entry, index) => (\n                                        <Cell key={`cell-${index}`} fill={COLORS[index % COLORS.length]} />\n                                    ))}\n                                </Pie>\n                                <Tooltip />\n                            </PieChart>\n                        </ResponsiveContainer>\n                        <div className=\"mt-4 flex flex-wrap gap-4\">\n                            {stats.deviceStats.map((entry, index) => (\n                                <div key={index} className=\"flex items-center gap-2 text-sm\">\n                                    <div className=\"w-3 h-3 rounded-full\" style={{ backgroundColor: COLORS[index % COLORS.length] }} />\n                                    <span className=\"capitalize\">{entry.name}: {entry.value}</span>\n                                </div>\n                            ))}\n                        </div>\n                    </CardContent>\n                </Card>\n            </div>\n\n            {/* Recent Activity with View Details */}\n            <Card>\n                <CardHeader>\n                    <CardTitle>Recent Activity Stream</CardTitle>\n                </CardHeader>\n                <CardContent>\n                    <div className=\"space-y-2 max-h-[500px] overflow-auto\">\n                        {stats.recentActivity.map((event, i) => (\n                            <div key={i} className=\"flex items-center justify-between border-b last:border-0 py-3 hover:bg-gray-50 cursor-pointer rounded px-2\" onClick={() => viewEventDetails(event)}>\n                                <div className=\"flex flex-col\">\n                                    <div className=\"flex items-center gap-2\">\n                                        <Badge variant=\"secondary\" className=\"capitalize\">{event.eventType.replace('_', ' ')}</Badge>\n                                        {event.device?.type && <span className=\"text-xs text-muted-foreground\"><Smartphone className=\"inline h-3 w-3\" /> {event.device.type}</span>}\n                                        {event.location?.country && <span className=\"text-xs text-muted-foreground\"><MapPin className=\"inline h-3 w-3\" /> {event.location.country}</span>}\n                                    </div>\n                                    <span className=\"text-xs text-muted-foreground truncate max-w-md\">{event.url}</span>\n                                </div>\n                                <div className=\"flex items-center gap-4\">\n                                    <div className=\"text-xs text-muted-foreground text-right\">\n                                        {new Date(event.timestamp).toLocaleTimeString()}<br />\n                                        {new Date(event.timestamp).toLocaleDateString()}\n                                    </div>\n                                    <Button variant=\"ghost\" size=\"sm\">View</Button>\n                                </div>\n                            </div>\n                        ))}\n                        {stats.recentActivity.length === 0 && <p className=\"text-muted-foreground text-sm\">No recent activity</p>}\n                    </div>\n                </CardContent>\n            </Card>\n\n            {/* Event Detail Modal */}\n            <Dialog open={detailOpen} onOpenChange={setDetailOpen}>\n                <DialogContent className=\"max-w-2xl\">\n                    <DialogHeader>\n                        <DialogTitle>Event Details</DialogTitle>\n                    </DialogHeader>\n                    {selectedEvent && (\n                        <div className=\"space-y-6\">\n                            <div className=\"grid grid-cols-2 gap-4\">\n                                <div>\n                                    <h4 className=\"text-sm font-semibold text-muted-foreground\">Event Type</h4>\n                                    <p className=\"capitalize font-medium\">{selectedEvent.eventType.replace('_', ' ')}</p>\n                                </div>\n                                <div>\n                                    <h4 className=\"text-sm font-semibold text-muted-foreground\">Timestamp</h4>\n                                    <p>{new Date(selectedEvent.timestamp).toLocaleString()}</p>\n                                </div>\n                                <div className=\"col-span-2\">\n                                    <h4 className=\"text-sm font-semibold text-muted-foreground\">URL</h4>\n                                    <p className=\"text-sm break-all\">{selectedEvent.url}</p>\n                                </div>\n                            </div>\n\n                            <div className=\"border-t pt-4\">\n                                <h3 className=\"font-semibold mb-3 flex items-center gap-2\"><MapPin className=\"h-4 w-4\" /> Location</h3>\n                                <div className=\"grid grid-cols-2 gap-4 text-sm\">\n                                    <div><span className=\"text-muted-foreground\">IP:</span> {selectedEvent.ip || 'N/A'}</div>\n                                    <div><span className=\"text-muted-foreground\">Country:</span> {selectedEvent.location?.country || 'N/A'}</div>\n                                    <div><span className=\"text-muted-foreground\">City:</span> {selectedEvent.location?.city || 'N/A'}</div>\n                                    <div><span className=\"text-muted-foreground\">Timezone:</span> {selectedEvent.location?.timezone || 'N/A'}</div>\n                                </div>\n                            </div>\n\n                            <div className=\"border-t pt-4\">\n                                <h3 className=\"font-semibold mb-3 flex items-center gap-2\"><Monitor className=\"h-4 w-4\" /> Device & Browser</h3>\n                                <div className=\"grid grid-cols-2 gap-4 text-sm\">\n                                    <div><span className=\"text-muted-foreground\">Device Type:</span> {selectedEvent.device?.type || 'N/A'}</div>\n                                    <div><span className=\"text-muted-foreground\">Vendor:</span> {selectedEvent.device?.vendor || 'N/A'}</div>\n                                    <div><span className=\"text-muted-foreground\">Model:</span> {selectedEvent.device?.model || 'N/A'}</div>\n                                    <div><span className=\"text-muted-foreground\">OS:</span> {selectedEvent.os?.name} {selectedEvent.os?.version}</div>\n                                    <div><span className=\"text-muted-foreground\">Browser:</span> {selectedEvent.browser?.name} {selectedEvent.browser?.version}</div>\n                                    <div><span className=\"text-muted-foreground\">Session:</span> {selectedEvent.sessionId?.slice(0, 8)}...</div>\n                                </div>\n                            </div>\n\n                            <div className=\"border-t pt-4\">\n                                <h3 className=\"font-semibold mb-3 flex items-center gap-2\"><Globe className=\"h-4 w-4\" /> User Agent</h3>\n                                <p className=\"text-xs text-muted-foreground break-all bg-gray-50 p-3 rounded\">{selectedEvent.userAgent || 'N/A'}</p>\n                            </div>\n\n                            {selectedEvent.metadata && Object.keys(selectedEvent.metadata).length > 0 && (\n                                <div className=\"border-t pt-4\">\n                                    <h3 className=\"font-semibold mb-3\">Metadata</h3>\n                                    <pre className=\"text-xs bg-gray-50 p-3 rounded overflow-auto\">{JSON.stringify(selectedEvent.metadata, null, 2)}</pre>\n                                </div>\n                            )}\n                        </div>\n                    )}\n                </DialogContent>\n            </Dialog>\n        </div>\n    );\n}\n"],"names":[],"mappings":"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"}}]
}