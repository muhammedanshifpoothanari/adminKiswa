(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,31713,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(22016),r=e.i(75254);let l=(0,r.default)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);var d=e.i(50965),i=e.i(61911);let n=(0,r.default)("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),c=(0,r.default)("arrow-up-right",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]),o=(0,r.default)("arrow-down-right",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);var x=e.i(88844);let h=(0,r.default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);function m(){let[e,r]=(0,s.useState)(null),[m,g]=(0,s.useState)(!0);if((0,s.useEffect)(()=>{fetch("/api/dashboard").then(e=>e.json()).then(e=>{r(e),g(!1)}).catch(e=>{console.error("Failed to load dashboard:",e),g(!1)})},[]),m)return(0,t.jsx)("div",{className:"flex items-center justify-center h-96",children:(0,t.jsx)(h,{className:"w-8 h-8 animate-spin text-gray-400"})});if(!e)return(0,t.jsx)("div",{className:"p-8",children:"Failed to load dashboard data"});let u=[{label:"Total Revenue",value:`${e.stats.revenue.value.toLocaleString()} SAR`,change:`${e.stats.revenue.change>=0?"+":""}${e.stats.revenue.change}%`,trend:e.stats.revenue.trend,icon:n},{label:"Orders",value:e.stats.orders.value.toString(),change:`${e.stats.orders.change>=0?"+":""}${e.stats.orders.change}%`,trend:e.stats.orders.trend,icon:d.ShoppingBag},{label:"Customers",value:e.stats.customers.value.toString(),change:`${e.stats.customers.change>=0?"+":""}${e.stats.customers.change}%`,trend:e.stats.customers.trend,icon:i.Users},{label:"Active Now",value:e.stats.activeSessions.toString(),change:"Live",trend:"up",icon:l}];return(0,t.jsxs)("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-700",children:[(0,t.jsxs)("div",{className:"flex items-end justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Overview"}),(0,t.jsx)("p",{className:"text-gray-500 mt-1 text-sm",children:"Live performance metrics for Kiswa Store."})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsxs)(a.default,{href:"/products",className:"px-4 py-2 bg-white border rounded-lg text-sm font-medium hover:bg-gray-50 transition-colors flex items-center gap-2",children:[(0,t.jsx)(x.Package,{className:"w-4 h-4"})," ",e.stats.products," Products"]}),(0,t.jsx)(a.default,{href:"/orders",className:"px-4 py-2 bg-black text-white rounded-lg text-sm font-medium hover:bg-black/90 transition-colors",children:"Manage Orders"})]})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:u.map(e=>(0,t.jsxs)("div",{className:"bg-white p-6 rounded-2xl border shadow-sm hover:shadow-md transition-shadow",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("div",{className:"p-2 bg-gray-50 rounded-lg",children:(0,t.jsx)(e.icon,{className:"w-5 h-5 text-black"})}),(0,t.jsxs)("div",{className:`flex items-center gap-1 text-[10px] font-bold px-2 py-1 rounded-full ${"up"===e.trend?"bg-green-50 text-green-600":"bg-red-50 text-red-600"}`,children:[e.change,"up"===e.trend?(0,t.jsx)(c,{className:"w-3 h-3"}):(0,t.jsx)(o,{className:"w-3 h-3"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-[10px] font-medium text-gray-400 uppercase tracking-wider",children:e.label}),(0,t.jsx)("p",{className:"text-2xl font-bold mt-1 tracking-tight",children:e.value})]})]},e.label))}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,t.jsxs)("div",{className:"lg:col-span-2 bg-white rounded-2xl border shadow-sm p-8",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,t.jsx)("h3",{className:"text-lg font-bold",children:"Recent Orders"}),(0,t.jsx)(a.default,{href:"/orders",className:"text-sm font-medium text-gray-500 hover:text-black transition-colors",children:"View All"})]}),(0,t.jsx)("div",{className:"space-y-6",children:e.recentOrders.length>0?e.recentOrders.map(e=>{let s,a,r,l,d;return(0,t.jsxs)("div",{className:"flex items-center justify-between py-4 border-b last:border-0 first:pt-0",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-xl bg-gray-100 flex items-center justify-center font-bold text-[10px] uppercase",children:e.orderNumber?.slice(-3)||"ORD"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-bold text-sm",children:e.orderNumber}),(0,t.jsxs)("p",{className:"text-[10px] text-gray-400",children:[(s=new Date(e.createdAt),r=Math.floor((a=new Date().getTime()-s.getTime())/6e4),l=Math.floor(a/36e5),d=Math.floor(a/864e5),r<1?"Just now":r<60?`${r} min ago`:l<24?`${l} hr ago`:`${d} day${d>1?"s":""} ago`)," • ",e.itemCount," item",1!==e.itemCount?"s":""," • ",e.customer]})]})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsxs)("p",{className:"font-bold text-sm",children:[e.total?.toLocaleString()," SAR"]}),(0,t.jsx)("p",{className:`text-[10px] font-bold uppercase tracking-wider ${"paid"===e.paymentStatus?"text-green-600":"text-yellow-600"}`,children:e.paymentStatus})]})]},e._id)}):(0,t.jsx)("p",{className:"text-gray-400 text-sm text-center py-8",children:"No orders yet"})})]}),(0,t.jsxs)("div",{className:"bg-white rounded-2xl border shadow-sm p-8",children:[(0,t.jsx)("h3",{className:"text-lg font-bold mb-8",children:"Top Products"}),(0,t.jsx)("div",{className:"space-y-6",children:e.topProducts.length>0?e.topProducts.map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 rounded-xl bg-gray-50 border flex-shrink-0 flex items-center justify-center font-bold text-gray-400",children:s+1}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("p",{className:"font-bold text-sm truncate",children:e.name}),(0,t.jsxs)("p",{className:"text-[10px] text-gray-400",children:[e.sales," sold"]})]}),(0,t.jsxs)("p",{className:"font-bold text-sm whitespace-nowrap",children:[e.revenue?.toLocaleString()," SAR"]})]},s)):(0,t.jsx)("p",{className:"text-gray-400 text-sm text-center py-8",children:"No sales data yet"})})]})]})]})}e.s(["default",()=>m],31713)}]);